{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["export default function getApi(keyWord) {\n  const apiKey = '32946561-6d99391fd6ee776d2dee61275';\n  const baseUrl = 'https://pixabay.com/api/';\n\n  const urlOptions = new URLSearchParams({\n    key: apiKey,\n    q: keyWord,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n  });\n\n  return fetch(`${baseUrl}?${urlOptions}`)\n    .then(response => {\n      if (!response.ok) {\n        throw new Error(response.status);\n      }\n\n      return response.json();\n    })\n    .then(value => {\n      return value.hits;\n    })\n    .catch(error => {\n      console.log(error.message);\n    });\n}\n","export default function createMarkUp({\n  webformatURL,\n  largeImageURL,\n  tags,\n  likes,\n  views,\n  comments,\n  downloads,\n}) {\n  return `\n        <li class=\"gallery-item\">\n            <a href=\"${largeImageURL}\"><img class=\"gallery-image\" src=\"${webformatURL}\" alt=\"${tags}\"></a>\n            <div class=\"gallery-info\">\n                <div class=\"gallery-info-div\">\n                    <p class=\"gallery-info-div-text\">Likes</p>\n                    <p class=\"gallery-info-div-value\">${likes}</p>\n                </div>\n                <div class=\"gallery-info-div\">\n                    <p class=\"gallery-info-div-text\">Views</p>\n                    <p class=\"gallery-info-div-value\">${views}</p>\n                </div>\n                <div class=\"gallery-info-div\">\n                    <p class=\"gallery-info-div-text\">Comments</p>\n                    <p class=\"gallery-info-div-value\">${comments}</p>\n                </div>\n                <div class=\"gallery-info-div\">\n                    <p class=\"gallery-info-div-text\">Downloads</p>\n                    <p class=\"gallery-info-div-value\">${downloads}</p>\n                </div>\n            </div>\n        </li>\n    `;\n}\n","import getApi from './js/pixabay-api';\nimport iziToast from 'izitoast';\nimport createMarkUp from './js/render-functions';\nimport SimpleLightbox from 'simplelightbox';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst form = document.querySelector('.form');\nconst gallery = document.querySelector('.gallery');\nconst loading = document.querySelector('.loader');\n\nform.addEventListener('submit', submitHandler);\n\nfunction submitHandler(event) {\n  event.preventDefault();\n  const keyWord = event.target.elements.formInput.value;\n  loading.classList.remove('visually-hidden');\n  gallery.innerHTML = '';\n\n  if (!keyWord) {\n    iziToast.show({\n      message: 'Please enter a search term.',\n      backgroundColor: '#ef4040',\n      position: 'topRight',\n    });\n    loading.classList.add('visually-hidden');\n    return;\n  }\n\n  getApi(keyWord)\n    .then(images => {\n      if (!images.length) {\n        throw new Error(\n          'Sorry, there are no images matching <br /> your search query. Please try again!'\n        );\n      }\n      const markUp = images\n        .map(item => {\n          return createMarkUp(item);\n        })\n        .join('');\n\n      gallery.innerHTML = markUp;\n\n      const lightbox = new SimpleLightbox('.gallery a', {\n        captionSelector: 'img',\n        captionsData: 'alt',\n        captionPosition: 'bottom',\n      });\n      lightbox.refresh();\n    })\n    .catch(error => {\n      //iziToast\n      iziToast.show({\n        message: error.message,\n        backgroundColor: '#ef4040',\n        position: 'topRight',\n      });\n    })\n    .finally(() => {\n      loading.classList.add('visually-hidden');\n    });\n\n  event.target.reset();\n}\n"],"names":["getApi","keyWord","apiKey","baseUrl","urlOptions","response","value","error","createMarkUp","webformatURL","largeImageURL","tags","likes","views","comments","downloads","form","gallery","loading","submitHandler","event","iziToast","images","markUp","item","SimpleLightbox"],"mappings":"6vBAAe,SAASA,EAAOC,EAAS,CACtC,MAAMC,EAAS,qCACTC,EAAU,2BAEVC,EAAa,IAAI,gBAAgB,CACrC,IAAKF,EACL,EAAGD,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EAChB,CAAG,EAED,OAAO,MAAM,GAAGE,CAAO,IAAIC,CAAU,EAAE,EACpC,KAAKC,GAAY,CAChB,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAGjC,OAAOA,EAAS,MACtB,CAAK,EACA,KAAKC,GACGA,EAAM,IACd,EACA,MAAMC,GAAS,CACd,QAAQ,IAAIA,EAAM,OAAO,CAC/B,CAAK,CACL,CC1Be,SAASC,EAAa,CACnC,aAAAC,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACF,EAAG,CACD,MAAO;AAAA;AAAA,uBAEcL,CAAa,qCAAqCD,CAAY,UAAUE,CAAI;AAAA;AAAA;AAAA;AAAA,wDAI3CC,CAAK;AAAA;AAAA;AAAA;AAAA,wDAILC,CAAK;AAAA;AAAA;AAAA;AAAA,wDAILC,CAAQ;AAAA;AAAA;AAAA;AAAA,wDAIRC,CAAS;AAAA;AAAA;AAAA;AAAA,KAKjE,CCzBA,MAAMC,EAAO,SAAS,cAAc,OAAO,EACrCC,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAAU,SAAS,cAAc,SAAS,EAEhDF,EAAK,iBAAiB,SAAUG,CAAa,EAE7C,SAASA,EAAcC,EAAO,CAC5BA,EAAM,eAAc,EACpB,MAAMnB,EAAUmB,EAAM,OAAO,SAAS,UAAU,MAIhD,GAHAF,EAAQ,UAAU,OAAO,iBAAiB,EAC1CD,EAAQ,UAAY,GAEhB,CAAChB,EAAS,CACZoB,EAAS,KAAK,CACZ,QAAS,8BACT,gBAAiB,UACjB,SAAU,UAChB,CAAK,EACDH,EAAQ,UAAU,IAAI,iBAAiB,EACvC,MACD,CAEDlB,EAAOC,CAAO,EACX,KAAKqB,GAAU,CACd,GAAI,CAACA,EAAO,OACV,MAAM,IAAI,MACR,iFACV,EAEM,MAAMC,EAASD,EACZ,IAAIE,GACIhB,EAAagB,CAAI,CACzB,EACA,KAAK,EAAE,EAEVP,EAAQ,UAAYM,EAEH,IAAIE,EAAe,aAAc,CAChD,gBAAiB,MACjB,aAAc,MACd,gBAAiB,QACzB,CAAO,EACQ,QAAO,CACtB,CAAK,EACA,MAAMlB,GAAS,CAEdc,EAAS,KAAK,CACZ,QAASd,EAAM,QACf,gBAAiB,UACjB,SAAU,UAClB,CAAO,CACP,CAAK,EACA,QAAQ,IAAM,CACbW,EAAQ,UAAU,IAAI,iBAAiB,CAC7C,CAAK,EAEHE,EAAM,OAAO,OACf"}